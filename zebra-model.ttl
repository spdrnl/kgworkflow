@prefix :     <http://www.nefoundland.nl/otc/zebra-puzzle/> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@base <http://www.newfoundland.nl/otc/zebra-puzzle/>.

<http://www.nefoundland.nl/otc/zebra-puzzle>
    a owl:Ontology .

# Classes and objects
:Man
    a         owl:Class ;
    owl:oneOf ( :english :japanese :norwegian :spaniard :ukranian ) .

:english
    a owl:NamedIndividual, :Man .

:japanese
    a owl:NamedIndividual, :Man .

:norwegian
    a owl:NamedIndividual, :Man .

:spaniard
    a owl:NamedIndividual, :Man .

:ukranian
    a owl:NamedIndividual, :Man .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :english :japanese :norwegian :spaniard :ukranian ) .

###

:House
    a         owl:Class ;
    owl:oneOf ( :house_1 :house_2 :house_3 :house_4 :house_5 ) .

:house_1
    a owl:NamedIndividual, :House .

:house_2
    a owl:NamedIndividual, :House .

:house_3
    a owl:NamedIndividual, :House .

:house_4
    a owl:NamedIndividual, :House .

:house_5
    a owl:NamedIndividual, :House .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :house_1 :house_2 :house_3 :house_4 :house_5 ) .

###

:Color
    a         owl:Class ;
    owl:oneOf ( :blue :green :ivory :red :yellow ) .

:blue
    a owl:NamedIndividual, :Color .

:green
    a owl:NamedIndividual, :Color .

:ivory
    a owl:NamedIndividual, :Color .

:red
    a owl:NamedIndividual, :Color .

:yellow
    a owl:NamedIndividual, :Color .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :blue :green :ivory :red :yellow ) .

###

:Cigarette
    a         owl:Class ;
    owl:oneOf ( :chesterfields :kools :lucky_strikes :old_gold :parliaments ) .

:chesterfields
    a owl:NamedIndividual, :Cigarette .

:kools
    a owl:NamedIndividual, :Cigarette .

:lucky_strikes
    a owl:NamedIndividual, :Cigarette .

:old_gold
    a owl:NamedIndividual, :Cigarette .

:parliaments
    a owl:NamedIndividual, :Cigarette .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :chesterfields :kools :lucky_strikes :old_gold :parliaments ) .

###

:Beverage
    a         owl:Class ;
    owl:oneOf ( :coffee :milk :tea :water :orange_juice ) .

:coffee
    a owl:NamedIndividual, :Beverage .

:milk
    a owl:NamedIndividual, :Beverage .

:tea
    a owl:NamedIndividual, :Beverage .

:water
    a owl:NamedIndividual, :Beverage .

:orange_juice
    a owl:NamedIndividual, :Beverage .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :coffee :milk :tea :water :orange_juice ) .

###

:Pet
    a         owl:Class ;
    owl:oneOf ( :dog :fox :snail :horse :zebra ) .

:dog
    a owl:NamedIndividual, :Pet .

:fox
    a owl:NamedIndividual, :Pet .

:snail
    a owl:NamedIndividual, :Pet .

:horse
    a owl:NamedIndividual, :Pet .

:zebra
    a owl:NamedIndividual, :Pet .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :dog :fox :snail :horse :zebra ) .


[]
    a           owl:AllDisjointClasses ;
    owl:members ( :Man :House :Color :Cigarette :Beverage :Pet ) .

# Relationships

:has_color
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :Color .

:color_of
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Color ;
    rdfs:range    :House ;
    owl:inverseOf :has_color .

:drinks
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Beverage .

:drunk_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Beverage ;
    rdfs:range    :Man ;
    owl:inverseOf :drinks .

:home_of
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :Man .

:lives_in
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Man ;
    rdfs:range    :House ;
    owl:inverseOf :home_of .

:owns
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Pet .

:owned_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Pet ;
    rdfs:range    :Man ;
    owl:inverseOf :owns .

:left_of
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :House .

:right_of
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :House ;
    rdfs:range    :House ;
    owl:inverseOf :left_of .

:smokes
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Cigarette .

:smoked_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Cigarette ;
    rdfs:range    :Man ;
    owl:inverseOf :smokes .

## Observations

:house_1
    :left_of :house_2 .

:house_2
    :left_of :house_3 .

:house_3
    :left_of :house_4 .

:house_4
    :left_of :house_5 .

# 1. Closure on House class.

# 2.
:RedHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a              owl:Restriction ;
                                                        owl:onProperty :has_color ;
                                                        owl:hasValue   :red ] ) ] .

:english
    :lives_in [ a :RedHouse ] .


# 3.
:spaniard
    :owns :dog .

# 4 .
:GreenHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a              owl:Restriction ;
                                                        owl:onProperty :has_color ;
                                                        owl:hasValue   :green ] ) ] .

:ManLivingInGreenHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a                  owl:Restriction ;
                                                      owl:onProperty     :lives_in ;
                                                      owl:someValuesFrom :GreenHouse ] ) ] .

:coffee
    :drunk_by [ a :ManLivingInGreenHouse ] .


# 5.
:ukranian
    :drinks :tea .


# 6.
:IvoryHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a              owl:Restriction ;
                                                        owl:onProperty :has_color ;
                                                        owl:hasValue   :ivory ] ) ] .

:HouseRightOfIvoryHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :right_of ;
                                                        owl:someValuesFrom :IvoryHouse ] ) ] .

:green
    :color_of [ a :HouseRightOfIvoryHouse ] .

# 7.
:SnailOwner
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a              owl:Restriction ;
                                                      owl:onProperty :owns ;
                                                      owl:hasValue   :snail ] ) ] .

:old_gold
    :smoked_by [ a :SnailOwner ] .


# 8.
:YellowHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a              owl:Restriction ;
                                                        owl:onProperty :has_color ;
                                                        owl:hasValue   :yellow ] ) ] .

:ManLivingInYellowHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a                  owl:Restriction ;
                                                      owl:onProperty     :lives_in ;
                                                      owl:someValuesFrom :YellowHouse ] ) ] .

:kools
    :smoked_by [ a :ManLivingInYellowHouse ] .


# 9.
:norwegian
    :lives_in :house_1 .

# 10.
:ManLivingInMiddleHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a              owl:Restriction ;
                                                      owl:onProperty :lives_in ;
                                                      owl:hasValue   :house_3 ] ) ] .

:milk
    :drunk_by [ a :ManLivingInMiddleHouse ] .

# 11.
:ManOwningFox
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a              owl:Restriction ;
                                                      owl:onProperty :owns ;
                                                      owl:hasValue   :fox ] ) ] .

:FoxHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :home_of ;
                                                        owl:someValuesFrom :ManOwningFox ] ) ] .

:HouseLeftOfFoxHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :left_of ;
                                                        owl:someValuesFrom :FoxHouse ] ) ] .

:HouseRightOfFoxHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :right_of ;
                                                        owl:someValuesFrom :FoxHouse ] ) ] .

:HouseNextToFoxHouse
    a                   owl:Class ;
    owl:equivalentClass [ a           owl:Class ;
                          owl:unionOf ( :HouseLeftOfFoxHouse :HouseRightOfFoxHouse ) ] .

:ManLivingInHouseNextToFox
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a                  owl:Restriction ;
                                                      owl:onProperty     :lives_in ;
                                                      owl:someValuesFrom :HouseNextToFoxHouse ] ) ] .

:chesterfields
    :smoked_by [ a :ManLivingInHouseNextToFox ] .

# 12.
:ManOwningHorse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a              owl:Restriction ;
                                                      owl:onProperty :owns ;
                                                      owl:hasValue   :horse ] ) ] .

:HorseHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :home_of ;
                                                        owl:someValuesFrom :ManOwningHorse ] ) ] .

:HouseLeftOfHorseHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :left_of ;
                                                        owl:someValuesFrom :HorseHouse ] ) ] .

:HouseRightOfHorseHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :right_of ;
                                                        owl:someValuesFrom :HorseHouse ] ) ] .

:HouseNextToHorseHouse
    a                   owl:Class ;
    owl:equivalentClass [ a           owl:Class ;
                          owl:unionOf ( :HouseLeftOfHorseHouse :HouseRightOfHorseHouse ) ] .

:ManLivingInHouseNextToHorse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a                  owl:Restriction ;
                                                      owl:onProperty     :lives_in ;
                                                      owl:someValuesFrom :HouseNextToHorseHouse ] ) ] .

:kools
    :smoked_by [ a :ManLivingInHouseNextToHorse ] .

# 13.
:LuckyStrikesSmoker
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a              owl:Restriction ;
                                                      owl:onProperty :smokes ;
                                                      owl:hasValue   :lucky_strikes ] ) ] .

:orange_juice
    :drunk_by [ a :LuckyStrikesSmoker ] .

# 14.
:japanese
    :smokes :parliaments .

# 15.
:BlueHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a              owl:Restriction ;
                                                        owl:onProperty :has_color ;
                                                        owl:hasValue   :blue ] ) ] .

:HouseLeftOfBlueHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :left_of ;
                                                        owl:someValuesFrom :BlueHouse ] ) ] .

:HouseRightOfBlueHouse
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :House [ a                  owl:Restriction ;
                                                        owl:onProperty     :right_of ;
                                                        owl:someValuesFrom :BlueHouse ] ) ] .

:HouseNextToBlueHouse
    a                   owl:Class ;
    owl:equivalentClass [ a           owl:Class ;
                          owl:unionOf ( :HouseLeftOfBlueHouse :HouseRightOfBlueHouse ) ] .

:norwegian
    :lives_in [ a :HouseNextToBlueHouse ] .

# And who owns the zebra?
:ZebraOwner
    a                   owl:Class ;
    owl:equivalentClass [ a                  owl:Class ;
                          owl:intersectionOf ( :Man [ a                  owl:Restriction ;
                                                      owl:onProperty     :owns ;
                                                      owl:hasValue :zebra ] ) ] .
