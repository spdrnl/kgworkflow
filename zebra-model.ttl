@prefix :     <http://www.nefoundland.nl/otc/zebra-puzzle/> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@base <http://www.newfoundland.nl/otc/zebra-puzzle/>.

<http://www.nefoundland.nl/otc/zebra-puzzle>
    a owl:Ontology .

# Classes and objects
:Man
    a         owl:Class ;
    owl:oneOf ( :english :japanese :norwegian :spaniard :ukranian ) .

:english
    a owl:NamedIndividual, :Man .

:japanese
    a owl:NamedIndividual, :Man .

:norwegian
    a owl:NamedIndividual, :Man .

:spaniard
    a owl:NamedIndividual, :Man .

:ukranian
    a owl:NamedIndividual, :Man .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :english :japanese :norwegian :spaniard :ukranian ) .

###

:House
    a         owl:Class ;
    owl:oneOf ( :house_1 :house_2 :house_3 :house_4 :house_5 ) .

:house_1
    a owl:NamedIndividual, :House .

:house_2
    a owl:NamedIndividual, :House .

:house_3
    a owl:NamedIndividual, :House .

:house_4
    a owl:NamedIndividual, :House .

:house_5
    a owl:NamedIndividual, :House .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :house_1 :house_2 :house_3 :house_4 :house_5 ) .

###

:Color
    a         owl:Class ;
    owl:oneOf ( :blue :green :ivory :red :yellow ) .

:blue
    a owl:NamedIndividual, :Color .

:green
    a owl:NamedIndividual, :Color .

:ivory
    a owl:NamedIndividual, :Color .

:red
    a owl:NamedIndividual, :Color .

:yellow
    a owl:NamedIndividual, :Color .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :blue :green :ivory :red :yellow ) .

###

:Cigarette
    a         owl:Class ;
    owl:oneOf ( :chesterfields :kools :lucky_strikes :old_gold :parliaments ) .

:chesterfields
    a owl:NamedIndividual, :Cigarette .

:kools
    a owl:NamedIndividual, :Cigarette .

:lucky_strikes
    a owl:NamedIndividual, :Cigarette .

:old_gold
    a owl:NamedIndividual, :Cigarette .

:parliaments
    a owl:NamedIndividual, :Cigarette .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :chesterfields :kools :lucky_strikes :old_gold :parliaments ) .

###

:Beverage
    a         owl:Class ;
    owl:oneOf ( :coffee :milk :tea :water :orange_juice ) .

:coffee
    a owl:NamedIndividual, :Beverage .

:milk
    a owl:NamedIndividual, :Beverage .

:tea
    a owl:NamedIndividual, :Beverage .

:water
    a owl:NamedIndividual, :Beverage .

:orange_juice
    a owl:NamedIndividual, :Beverage .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :coffee :milk :tea :water :orange_juice ) .

###

:Pet
    a         owl:Class ;
    owl:oneOf ( :dog :fox :snail :horse :zebra ) .

:dog
    a owl:NamedIndividual, :Pet .

:fox
    a owl:NamedIndividual, :Pet .

:snail
    a owl:NamedIndividual, :Pet .

:horse
    a owl:NamedIndividual, :Pet .

:zebra
    a owl:NamedIndividual, :Pet .

[]
    a                   owl:AllDifferent ;
    owl:distinctMembers ( :dog :fox :snail :horse :zebra ) .


[]
    a           owl:AllDisjointClasses ;
    owl:members ( :Man :House :Color :Cigarette :Beverage :Pet ) .

# Relationships

:has_color
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :Color .

:color_of
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Color ;
    rdfs:range    :House ;
    owl:inverseOf :has_color .

:drinks
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Beverage .

:drunk_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Beverage ;
    rdfs:range    :Man ;
    owl:inverseOf :drinks .

:home_of
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :Man .

:lives_in
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Man ;
    rdfs:range    :House ;
    owl:inverseOf :home_of .

:owns
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Pet .

:owned_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Pet ;
    rdfs:range    :Man ;
    owl:inverseOf :owns .

:left_of
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :House ;
    rdfs:range  :House .

:right_of
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :House ;
    rdfs:range    :House ;
    owl:inverseOf :left_of .

:smokes
    a           owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain :Man ;
    rdfs:range  :Cigarette .

:smoked_by
    a             owl:ObjectProperty, owl:FunctionalProperty ;
    rdfs:domain   :Cigarette ;
    rdfs:range    :Man ;
    owl:inverseOf :smokes .

## Observations

:house_1
    :left_of :house_2 .

:house_2
    :left_of :house_3 .

:house_3
    :left_of :house_4 .

:house_4
    :left_of :house_5 .

# 2. Red house directly
:RedHouse
    a owl:Class ;
    rdfs:subClassOf :House ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :has_color ;
                     owl:hasValue   :red ] ) .

:english
    :lives_in [ a :RedHouse ] .

# 3.
:spaniard
    :owns :dog .

# 4. Green house directly; coffee drunk by someone living in a green house
:GreenHouse
    a owl:Class ;
    rdfs:subClassOf :House ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :has_color ;
                     owl:hasValue   :green ] ) .

:coffee
    :drunk_by [ a :Man ;
                :lives_in [ a :GreenHouse ] ] .

# 5.
:ukranian
    :drinks :tea .

# 6. Ivory and right-of constraint, directly with value and someValuesFrom as needed
:IvoryHouse
    a owl:Class ;
    rdfs:subClassOf :House ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :has_color ;
                     owl:hasValue   :ivory ] ) .

:green
    :color_of [ a :House ;
                :right_of [ a :IvoryHouse ] ] .

# 7. Snail owner directly
:old_gold
    :smoked_by [ a :Man ;
                 :owns :snail ] .

# 8. Yellow house directly; Kools smoker lives in yellow house
:YellowHouse
    a owl:Class ;
    rdfs:subClassOf :House ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :has_color ;
                     owl:hasValue   :yellow ] ) .

:kools
    :smoked_by [ a :Man ;
                 :lives_in [ a :YellowHouse ] ] .

# 9.
:norwegian
    :lives_in :house_1 .

# 10. Middle house beverage
:milk
    :drunk_by [ a :Man ;
                :lives_in :house_3 ] .

# 11. Chesterfields smoker lives next to fox owner
:chesterfields
    :smoked_by [ a :Man ;
                 :lives_in [ a :House ;
                             :left_of  [ a :House ; :home_of [ a :Man ; :owns :fox ] ] ;
                             :right_of [ a :House ; :home_of [ a :Man ; :owns :fox ] ] ] ] .

# 12. Kools smoker lives next to horse owner
:kools
    :smoked_by [ a :Man ;
                 :lives_in [ a :House ;
                             :left_of  [ a :House ; :home_of [ a :Man ; :owns :horse ] ] ;
                             :right_of [ a :House ; :home_of [ a :Man ; :owns :horse ] ] ] ] .

# 13. Lucky Strikes smoker drinks orange juice
:orange_juice
    :drunk_by [ a :Man ;
                :smokes :lucky_strikes ] .

# 14.
:japanese
    :smokes :parliaments .

# 15. Norwegian lives next to blue house
:BlueHouse
    a owl:Class ;
    rdfs:subClassOf :House ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :has_color ;
                     owl:hasValue   :blue ] ) .

:norwegian
    :lives_in [ a :House ;
                :left_of  [ a :BlueHouse ] ;
                :right_of [ a :BlueHouse ] ] .

# And who owns the zebra?
:ZebraOwner
    a owl:Class ;
    rdfs:subClassOf :Man ;
    owl:hasValue ( [ a owl:Restriction ;
                     owl:onProperty :owns ;
                     owl:hasValue   :zebra ] ) .